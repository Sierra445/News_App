{% extends 'newsapp/base.html' %}

{% block title %}{{ article.title }} - News App{% endblock %}

{% block content %}
<article class="article-detail">
    {% if article.image %}
    <img src="{{ article.image.url }}" alt="{{ article.title }}" class="article-detail-image">
    {% endif %}
    
    <h1 class="article-detail-title">{{ article.title }}</h1>
    
    <div class="article-detail-meta">
        <p><strong>Author:</strong> {{ article.author }}</p>
        <p><strong>Published:</strong> {{ article.created_at|date:"F j, Y" }}</p>
        {% if article.category %}
        <p><strong>Category:</strong> {{ article.category.name }}</p>
        {% endif %}
    </div>
    
    <div class="article-content">
        {{ article.content|linebreaks }}
    </div>
</article>

<!-- Edit/Delete options only visible to the article author -->
{% if article.author == request.user %}
<div class="article-actions">
    <a href="{% url 'edit_article' article.id %}" class="btn btn-primary">Edit Article</a>
    <a href="{% url 'delete_article' article.id %}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this article?')">Delete Article</a>
</div>
{% endif %}

<div class="navigation-links">
    <a href="{% url 'home' %}" class="btn">Back to Home</a>
</div>
{% endblock %}
